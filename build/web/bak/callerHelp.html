<!DOCTYPE html>
<html>
	<head>
		<title>Help for a caller needing rescue</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel='icon' href='images/SoS.png' type='image/x-icon'>
		<style>
			a {color: maroon}
			b {color: red}
		</style>
		<script>
			function byId(id) {
				return document.getElementById(id);
			}
			function choose(arg) {
				var search = window.location.search;
				if (search == "?control")
					byId('who').innerHTML = "Talk it through with the stranded motorist.<br>What kind of phone do they have?";
//				else
//					byId("sender").innerHTML = search.length > 0 ? search.substr(1) : "";
				if (!arg)  // if no phone type passed, infer it
					arg = navigator.userAgent.match(/Android/) ? 'Android' :
						navigator.userAgent.match(/iPhone/) ? 'iPhone' : 'other';
				if (arg == 'Android') {
					byId('Android').style.display = 'block';
					byId('iPhone').style.display = 'none';
					byId('other').style.display = 'none';
					document.aform.device.value = 'Android';
				} else if (arg == 'iPhone') {
					byId('iPhone').style.display = 'block';
					byId('Android').style.display = 'none';
					byId('other').style.display = 'none';
					document.aform.device.value = 'iPhone';
				} else if (arg == 'other') {
					byId('other').style.display = 'block';
					byId('Android').style.display = 'none';
					byId('iPhone').style.display = 'none';
					document.aform.device.value = 'other';
				}
			}
		</script>
	</head>
	<body onload="choose()">
		<h2>Help for a guest needing rescue</h2>
		<p>We want you to send your current location to us so that a rescue vehicle can be directed to you.
			How you do this depends on what type of phone you have.  Please choose from the list below.
		</p>
		
		<form name="aform">
			<p id="who">Please choose your phone type (if we got it wrong):</p>
			<input type="radio" name="device" onchange="choose('Android')" value="Android"> Android<br>
			<input type="radio" name="device" onchange="choose('iPhone')"  value="iPhone" > iPhone<br>
			<input type="radio" name="device" onchange="choose('other')"  value="other" > Other<br>
		</form>
		
		<div id="Android" style="display: none; border: 1px solid LightGray;">
			<h3>Android help</h3>
			<p>Please use the Android Messages app to send us an SMS with your location attached to it.
				You can do this by replying to the SMS that we sent to you.  But before you start typing, click on the
				<b>+</b> sign or paperclip in front of the text input area.  This allows you to attach various things.
				Your current Location is one of them.  Touch that, let your phone find itself, then click Done.
				Then we'll know exactly where you are.</p>
		</div>
		<div id="iPhone" style="display: none; border: 1px solid LightGray;">
			<h3>iPhone help</h3>
			<p>If you have WhatsApp installed on your iPhone then you can start a WhatsApp message to us using the cell number
				that we used to send the SMS to you.  Touch the paperclip inside the text input box, then the Locate option.
				Once your phone has sorted out where it is, send the WhatsApp to us.  Then we'll know exactly where you are.</p>
		</div>
		<div id="other" style="display: none; border: 1px solid LightGray;">
			<h3>Other phone help here</h3>
			<p>All phone types allow you to send SMSes, and they usually allow you to attach your current location.
				You can do this by replying to the SMS that we sent to you.  But before you start typing, click on the
				<b>+</b> sign or paperclip in front of the text input area.  This allows you to attach various things.
				Your current Location should be one of them.  Touch that, let your phone find itself, then Send.
				Then we'll know exactly where you are.</p>
		</div>
	</body>
</html>
